var cardOrder=["2","3","4","5","6","7","8","9","T","J","Q","K","A"];function orderCards(r,e){return cardOrder.indexOf(r[0])-cardOrder.indexOf(e[0])}function havePair(r,e){for(var t=r.concat(e).sort(orderCards),a=0;a<t.length-1;a++)if(t[a][0]===t[a+1][0])return!0}function almostFlush(r,e){for(var t=r.concat(e).sort(orderCards),a=0,n=0,o=0,c=0,d=0;d<t.length;d++)"d"===t[d][1]?a++:"s"===t[d][1]?n++:"c"===t[d][1]?o++:c++;return a>3||n>3||o>3||c>3}function almostStraight(r,e){for(var t=r.concat(e).sort(orderCards),a=0,n=1;n<t.length;n++)cardOrder.indexOf(t[n][0])-1===cardOrder.indexOf(t[n][0])?a++:a<3&&(a=0);return a>=3}module.exports=function(){return{update:function(r){if("complete"!==r.state&&(havePair(r.self.cards,r.community)||almostFlush(r.self.cards,r.community)||almostStraight(r.self.cards,r.community)))return r.betting.raise},info:{name:"theJoker",email:"",btcWallet:""}}};