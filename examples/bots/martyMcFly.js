module.exports=function(){function t(t,n){var u=n.concat(t);r(u);var o=a(u),c=a(u),i=e(u);return o&&c?10:1===i.length&&4===i[0]?9:2===i.length&&3===i[0]&&2===i[1]?8:c?7:o?6:1===i.length&&3===i[0]?5:2===i.length&&2===i[0]&&2===i[1]?4:1===i.length&&2===i[0]?2:1}function n(t){return"T"===t?10:"J"===t?11:"Q"===t?12:"K"===t?13:"A"===t?14:+t}function r(t){t.sort(function(t,r){return n(t[0])-n(r[0])})}function e(t){var r=[];t.forEach(function(t){var e=n(t[0]);r[e]=(r[e]||0)+1});var e=[];return r.forEach(function(t,n){t>1&&e.push(t)}),e.reverse(),e}function a(t){var r=-1;return t.every(function(t){var e=n(t[0]);return(-1===r||r+1===e||14===e&&5===r)&&(r=e,!0)})}return{update:function(n){if("complete"!==n.state){var r=n.betting.call,e=t(n.community,n.self.cards);switch(n.state){case"pre-flop":break;case"flop":case"turn":case"river":if(e<1)return 0;if(e>4)return n.betting.raise*(e-3)}return r}},info:{name:"martyMcFly",email:"",btcWallet:""},test:{handTotal:t,isStraight:a,isFlush:function(t){var n=t[0][1];return t.every(function(t){return n==t[1]})},countSame:e,cardValue:n,sortCards:r}}};